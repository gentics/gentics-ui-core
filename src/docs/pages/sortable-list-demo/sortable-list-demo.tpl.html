<h1>SortableList</h1>

<gtx-autodocs [source]="componentSource" type="component"></gtx-autodocs>

<h2>Demos</h2>

<gtx-demo-block demoTitle="Basic List Binding">
    <div class="demo-result">
        <gtx-sortable-list (dragEnd)="sortList($event)">
            <gtx-sortable-item *ngFor="let person of items">
                <gtx-contents-list-item>
                    <div class="item-avatar">
                        <i class="material-icons">person</i>
                    </div>
                    <div class="item-primary">
                        <strong>{{ person.name }}</strong>
                        Age: {{ person.age }}
                    </div>
                </gtx-contents-list-item>
            </gtx-sortable-item>
        </gtx-sortable-list>
        <pre>this.items = {{ items | json }}</pre>
    </div>
    <div class="demo-code">
        <gtx-highlighted-code language="HTML" code='
                <gtx-sortable-list (dragEnd)="sortList($event)">
                    <gtx-sortable-item *ngFor="let person of items">
                        <gtx-contents-list-item>
                            <div class="item-avatar">
                                <i class="material-icons">person</i>
                            </div>
                            <div class="item-primary">
                                <strong>(( person.name ))</strong>
                                Age: (( person.age ))
                            </div>
                        </gtx-contents-list-item>
                    </gtx-sortable-item>
                </gtx-sortable-list>
                <pre>this.items = (( items | json ))</pre>
        '></gtx-highlighted-code>
        <gtx-highlighted-code language="typescript" code='
                sortList(e: ISortableEvent): void {
                    this.items = e.sort(this.items);
                }
        '></gtx-highlighted-code>
    </div>
</gtx-demo-block>

<gtx-demo-block demoTitle="Drag Handles">
    <div class="demo-result">
        <p>
            Optional drag handles are provided by the <code>&lt;gtx-drag-handle&gt;</code> component, but if a list item
            does not have a drag handle, the entire item will be draggable:
        </p>
        <gtx-sortable-list (dragEnd)="sortList($event)">
            <gtx-sortable-item *ngFor="let person of items">
                <gtx-contents-list-item>
                    <div class="item-avatar">
                        <i class="material-icons">person</i>
                    </div>
                    <div class="item-primary">
                        <strong>{{ person.name }}</strong>
                        Age: {{ person.age }}
                    </div>
                    <gtx-drag-handle></gtx-drag-handle>
                </gtx-contents-list-item>
            </gtx-sortable-item>
        </gtx-sortable-list>
    </div>
    <div class="demo-code">
        <gtx-highlighted-code language="HTML" code='
                <gtx-sortable-list (dragEnd)="sortList($event)">
                    <gtx-sortable-item *ngFor="let person of items">
                        <gtx-contents-list-item>
                            <div class="item-avatar">
                                <i class="material-icons">person</i>
                            </div>
                            <div class="item-primary">
                                <strong>(( person.name ))</strong>
                                Age: (( person.age ))
                            </div>
                            <gtx-drag-handle></gtx-drag-handle>
                        </gtx-contents-list-item>
                    </gtx-sortable-item>
                </gtx-sortable-list>
        '></gtx-highlighted-code>
    </div>
</gtx-demo-block>


<gtx-demo-block demoTitle="Disabling">
    <div class="demo-result">
        <p>
            Sorting can be disabled by setting the <code>disabled</code> attribute to true:
        </p>
        <gtx-checkbox [(ngModel)]="disabled" label="Disable sorting"></gtx-checkbox>
        <gtx-sortable-list [disabled]="disabled">
            <gtx-sortable-item *ngFor="let person of items">
                <gtx-contents-list-item>
                    <div class="item-avatar">
                        <i class="material-icons">person</i>
                    </div>
                    <div class="item-primary">
                        <strong>{{ person.name }}</strong>
                        Age: {{ person.age }}
                    </div>
                    <gtx-drag-handle></gtx-drag-handle>
                </gtx-contents-list-item>
            </gtx-sortable-item>
        </gtx-sortable-list>
    </div>
    <div class="demo-code">
        <gtx-highlighted-code language="HTML" code='
                <gtx-checkbox [(ngModel)]="disabled" label="Disable sorting"></gtx-checkbox>
                <gtx-sortable-list [disabled]="disabled">
                    <gtx-sortable-item *ngFor="let person of items">
                        <gtx-contents-list-item>
                            <div class="item-avatar">
                                <i class="material-icons">person</i>
                            </div>
                            <div class="item-primary">
                                <strong>(( person.name ))</strong>
                                Age: (( person.age ))
                            </div>
                            <gtx-drag-handle></gtx-drag-handle>
                        </gtx-contents-list-item>
                    </gtx-sortable-item>
                </gtx-sortable-list>
        '></gtx-highlighted-code>
    </div>
</gtx-demo-block>

<gtx-demo-block demoTitle="Auto Scrolling">
    <div class="demo-result">
        <p>
            Sometimes the list height is greater than the viewport height. In this case, dragging to the edge of the
            scrollable area will trigger auto scrolling.
        </p>
        <div class="auto-scroll-demo">
            <gtx-sortable-list (dragEnd)="sortLongList($event)">
                <gtx-sortable-item *ngFor="let item of longList">
                    <gtx-contents-list-item>
                        <div class="item-avatar">
                            <i class="material-icons">person</i>
                        </div>
                        <div class="item-primary">
                            <strong>{{ item }}</strong>
                        </div>
                    </gtx-contents-list-item>
                </gtx-sortable-item>
            </gtx-sortable-list>
        </div>
    </div>
    <div class="demo-code">
        <gtx-highlighted-code language="HTML" code='
                <gtx-sortable-list (dragEnd)="sortLongList($event)">
                    <gtx-sortable-item *ngFor="let item of longList">
                        <gtx-contents-list-item>
                            <div class="item-avatar">
                                <i class="material-icons">person</i>
                            </div>
                            <div class="item-primary">
                                <strong>(( item ))</strong>
                            </div>
                        </gtx-contents-list-item>
                    </gtx-sortable-item>
                </gtx-sortable-list>
        '></gtx-highlighted-code>
    </div>
</gtx-demo-block>

<gtx-demo-block demoTitle="Group Option">
    <div class="demo-result">
        <p>
            By setting the <code>group</code> option, items may be dragged between different SortableList components.
        </p>
        List 1
        <gtx-sortable-list (dragEnd)="sortLongList($event)" group="myGroup">
            <gtx-sortable-item>
                <gtx-contents-list-item><div class="item-primary"><strong>List 1, item 1</strong></div></gtx-contents-list-item>
            </gtx-sortable-item>
            <gtx-sortable-item>
                <gtx-contents-list-item><div class="item-primary"><strong>List 1, item 2</strong></div></gtx-contents-list-item>
            </gtx-sortable-item>
            <gtx-sortable-item>
                <gtx-contents-list-item><div class="item-primary"><strong>List 1, item 3</strong></div></gtx-contents-list-item>
            </gtx-sortable-item>
        </gtx-sortable-list>
        List 2
        <gtx-sortable-list (dragEnd)="sortLongList($event)" group="myGroup">
            <gtx-sortable-item>
                <gtx-contents-list-item><div class="item-primary"><strong>List 2, item 1</strong></div></gtx-contents-list-item>
            </gtx-sortable-item>
            <gtx-sortable-item>
                <gtx-contents-list-item><div class="item-primary"><strong>List 2, item 2</strong></div></gtx-contents-list-item>
            </gtx-sortable-item>
            <gtx-sortable-item>
                <gtx-contents-list-item><div class="item-primary"><strong>List 2, item 3</strong></div></gtx-contents-list-item>
            </gtx-sortable-item>
        </gtx-sortable-list>
    </div>
    <div class="demo-code">
        <gtx-highlighted-code language="HTML" code='
                List 1
                <gtx-sortable-list (dragEnd)="sortLongList($event)" group="myGroup">
                    <gtx-sortable-item>
                        <gtx-contents-list-item><div class="item-primary"><strong>List 1, item 1</strong></div></gtx-contents-list-item>
                    </gtx-sortable-item>
                    <gtx-sortable-item>
                        <gtx-contents-list-item><div class="item-primary"><strong>List 1, item 2</strong></div></gtx-contents-list-item>
                    </gtx-sortable-item>
                    <gtx-sortable-item>
                        <gtx-contents-list-item><div class="item-primary"><strong>List 1, item 3</strong></div></gtx-contents-list-item>
                    </gtx-sortable-item>
                </gtx-sortable-list>
                List 2
                <gtx-sortable-list (dragEnd)="sortLongList($event)" group="myGroup">
                    <gtx-sortable-item>
                        <gtx-contents-list-item><div class="item-primary"><strong>List 2, item 1</strong></div></gtx-contents-list-item>
                    </gtx-sortable-item>
                    <gtx-sortable-item>
                        <gtx-contents-list-item><div class="item-primary"><strong>List 2, item 2</strong></div></gtx-contents-list-item>
                    </gtx-sortable-item>
                    <gtx-sortable-item>
                        <gtx-contents-list-item><div class="item-primary"><strong>List 2, item 3</strong></div></gtx-contents-list-item>
                    </gtx-sortable-item>
                </gtx-sortable-list>
        '></gtx-highlighted-code>
    </div>
</gtx-demo-block>
